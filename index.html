<!DOCTYPE html>
<html>
<head>
    <title>PySR Documentation</title>
    <link rel="canonical" href="https://ai.damtp.cam.ac.uk/PySR" />
    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            overflow: hidden;
        }
        iframe {
            width: 100%;
            height: 100%;
            border: none;
        }
    </style>
</head>
<body>
    <iframe id="docs-frame" src="https://astroautomata.com/PySR"></iframe>
    <script>
        const iframe = document.getElementById('docs-frame');
        const basePath = '/PySR';
        
        // Handle initial load and subsequent navigation
        iframe.onload = () => {
            try {
                const iframePath = new URL(iframe.contentWindow.location.href).pathname;
                const localPath = iframePath.replace('/PySR', basePath);
                
                // Update browser URL without reloading
                if (window.location.pathname !== localPath) {
                    window.history.pushState({}, '', localPath);
                }
            } catch (e) {
                console.error('Unable to access iframe location:', e);
            }
        };

        // Handle browser back/forward buttons
        window.onpopstate = (event) => {
            const currentPath = window.location.pathname;
            const astroPath = currentPath.replace(basePath, '/PySR');
            iframe.src = `https://astroautomata.com${astroPath}`;
        };

        // Handle initial URL
        if (window.location.pathname !== basePath) {
            const initialPath = window.location.pathname.replace(basePath, '/PySR');
            iframe.src = `https://astroautomata.com${initialPath}`;
        }
    </script>
</body>
</html>
<!DOCTYPE html>
<html>
<head>
    <title>PySR Documentation</title>
    <link rel="canonical" href="https://ai.damtp.cam.ac.uk/PySR" />
</head>
<body>
    <script>
        const basePath = 'https://astroautomata.com/PySR';
        const currentPath = window.location.pathname.replace('/PySR', '');
        const currentSearch = window.location.search;
        const currentHash = window.location.hash;
        
        fetch(basePath + currentPath + currentSearch + currentHash)
            .then(response => response.text())
            .then(html => {
                const parser = new DOMParser();
                const doc = parser.parseFromString(html, 'text/html');
                
                // Fix relative URLs to be absolute
                const fixUrl = (url) => {
                    if (!url) return url;
                    if (url.startsWith('http')) return url;
                    if (url.startsWith('/')) return `https://astroautomata.com${url}`;
                    return `https://astroautomata.com/PySR/${url}`;
                };

                // Fix all relative URLs in attributes
                ['href', 'src'].forEach(attr => {
                    doc.querySelectorAll(`[${attr}]`).forEach(el => {
                        el.setAttribute(attr, fixUrl(el.getAttribute(attr)));
                    });
                });
                
                // Copy head elements except title and canonical
                Array.from(doc.head.children).forEach(child => {
                    if (child.tagName !== 'TITLE' && !child.matches('[rel="canonical"]')) {
                        document.head.appendChild(child.cloneNode(true));
                    }
                });
                
                // Replace body content
                document.body.innerHTML = doc.body.innerHTML;
            })
            .catch(error => console.error('Error:', error));
    </script>
    <p>Loading PySR documentation...</p>
</body>
</html>
